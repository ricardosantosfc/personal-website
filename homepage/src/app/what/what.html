<div class="what-content" #whatContent>
    <div class=project-wrapper [class.enter-animation]="isAnimatingEntrance() ===true" (animationstart)="handleAnimationStart()">
        <div class="project-content" (mouseenter)="animateImages()" (mouseleave)="stopAnimatingImages()">
            <div class="project-main">
                <div class="project-image-wrapper">
                    <img src={{currImage()}} [style.opacity] = "currOpacityImage()" (transitionend)="handleOpacityTransitionEnd()">
                </div>
                <div class="project-text" #projectText > <!-- need to handle both title and description, more accurate on overflow-->
                    <div class="project-title"> {{currTitle()}} </div>
                    <div class="project-description" > {{currDescription()}}
                     <!---   <div class=project-stack>
                             @for(stackItem of projects[currProjectIndex].stack ; track $index){
                                 <span class="stack-item"> {{ stackItem }}</span>
                             }
                        </div> -->
                    </div>
                </div>
            </div>
            <div class=project-links> <!--noLink() .notShown-->
                <a class="icon-link" [class.not-shown]="!isLinkShown()" href={{currLink()}} target="_blank"
                    rel="noopener noreferrer">
                    <svg class="icon" width="48" height="46" viewBox="0 0 65 66" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="32.5" cy="33" rx="32.5" ry="33" fill="currentColor" />
                        <path
                            d="M28.8888 34.5556C29.7 35.6401 30.7349 36.5374 31.9234 37.1867C33.1118 37.836 34.4261 38.2222 35.7769 38.3189C37.1277 38.4156 38.4836 38.2207 39.7524 37.7474C41.0213 37.2741 42.1735 36.5334 43.131 35.5756L48.7977 29.9089C50.518 28.1277 51.47 25.742 51.4485 23.2657C51.427 20.7894 50.4337 18.4206 48.6826 16.6695C46.9315 14.9185 44.5628 13.9252 42.0865 13.9037C39.6101 13.8822 37.2245 14.8341 35.4432 16.5545L32.1943 19.7845M36.4443 30.7778C35.6331 29.6934 34.5982 28.796 33.4097 28.1467C32.2213 27.4974 30.907 27.1113 29.5562 27.0145C28.2054 26.9178 26.8496 27.1127 25.5807 27.586C24.3118 28.0593 23.1596 28.8 22.2021 29.7578L16.5354 35.4245C14.8151 37.2057 13.8631 39.5914 13.8846 42.0677C13.9062 44.544 14.8994 46.9128 16.6505 48.6639C18.4016 50.415 20.7704 51.4082 23.2467 51.4297C25.723 51.4513 28.1086 50.4993 29.8899 48.7789L33.1199 45.5489"
                            stroke="var(--grey-what-project-background)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </a><!--noGithub() .notShown-->
                <a class="icon-link" [class.not-shown]="!isGithubShown()" href={{currGithub()}} target="_blank"
                    rel="noopener noreferrer">
                    <svg class="icon" width="48" height="46" viewBox="0 0 78 76" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M39.0323 0C17.4484 0 0 17.4166 0 38.9633C0 56.1867 11.1798 70.766 26.6892 75.9261C28.6282 76.314 29.3385 75.0877 29.3385 74.0562C29.3385 73.1529 29.2746 70.0567 29.2746 66.8306C18.4168 69.1534 16.1557 62.186 16.1557 62.186C14.4108 57.6703 11.8254 56.5097 11.8254 56.5097C8.27161 54.1229 12.0842 54.1229 12.0842 54.1229C16.0263 54.3809 18.0948 58.1223 18.0948 58.1223C21.5838 64.0567 27.2061 62.3799 29.468 61.3476C29.7907 58.8317 30.8254 57.09 31.9239 56.1226C23.264 55.2193 14.1527 51.865 14.1527 36.8986C14.1527 32.6411 15.7027 29.1578 18.1587 26.4487C17.7712 25.4813 16.4138 21.481 18.547 16.127C18.547 16.127 21.8427 15.0946 29.2738 20.1265C32.4553 19.2736 35.7364 18.8397 39.0323 18.836C42.328 18.836 45.6876 19.2881 48.7899 20.1265C56.2218 15.0946 59.5175 16.127 59.5175 16.127C61.6508 21.481 60.2925 25.4813 59.905 26.4487C62.4257 29.1578 63.9118 32.6411 63.9118 36.8986C63.9118 51.865 54.8005 55.1544 46.0759 56.1226C47.498 57.3481 48.7252 59.67 48.7252 63.3473C48.7252 68.5723 48.6613 72.7657 48.6613 74.0554C48.6613 75.0877 49.3724 76.314 51.3106 75.9268C66.82 70.7652 77.9998 56.1867 77.9998 38.9633C78.0637 17.4166 60.5514 0 39.0323 0Z"
                            fill="currentColor" />
                    </svg>
                </a>

            </div>
        </div>

    </div>
    <div class="control-container">
        <div class="dot-container">
            @for (project of projects; track $index) {

            @if($index === currProjectIndex){
            <span class="dot dot-active"> </span>
            }@else{
            <span class="dot" (click)="toggleDot($index)"> </span>
            }
            }
        </div>
        <div class="button-container">
            <svg class="button-img" (click)="handlePrevClick()" width="16" height="24" viewBox="0 0 8 12" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M6 12L0 6L6 0L7.4 1.4L2.8 6L7.4 10.6L6 12Z" fill="currentColor" />
            </svg>
            <svg class="button-img" (click)="handleNextClick()" width="16" height="24" viewBox="0 0 8 12" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M4.6 6L0 1.4L1.4 0L7.4 6L1.4 12L0 10.6L4.6 6Z" fill="currentColor" />
            </svg>
        </div>
    </div>
    <div class=" footer" #footer></div>
</div>